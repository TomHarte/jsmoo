<!DOCTYPE HTML>
<html lang="en-US">
<head>
<!-- General -->
    <script type="text/javascript" src="helpers/localforage.min.js"></script>
    <script type="text/javascript" src="helpers/basicfs.js"></script>
    <script type="text/javascript" src="helpers.js"></script>
    <script type="text/javascript" src="debugging.js"></script>
    <script type="text/javascript" src="helpers/timing/timing_header.js"></script>
    <script type="text/javascript" src="ui/ui.js"></script>
    <script type="text/javascript" src="ui/kb_input.js"></script>
    <script type="text/javascript" src="ui/input.js"></script>
    <script type="text/javascript" src="rom_upload.js"></script>
    <script type="text/javascript" src="helpers/machine_description.js"></script>
<!-- SNES -->
    <script type="text/javascript" src="component/cpu/wdc65816/wdc65816_opcodes.js"></script>
    <script type="text/javascript" src="component/cpu/wdc65816/wdc65816_t.js"></script>
    <script type="text/javascript" src="component/cpu/wdc65816/wdc65816_assembler.js"></script>
    <script type="text/javascript" src="component/cpu/wdc65816/wdc65816_generated_opcodes.js"></script>
    <script type="text/javascript" src="component/cpu/wdc65816/asm_charcodes.js"></script>
    <script type="text/javascript" src="system/snes/cpu/dma.js"></script>
    <script type="text/javascript" src="component/controller/snes_joypad.js"></script>
    <script type="text/javascript" src="system/snes/cpu/r5a22.js"></script>
    <script type="text/javascript" src="component/cpu/spc700/spc700_boot_rom.js"></script>
    <script type="text/javascript" src="component/cpu/spc700/spc700_assembler.js"></script>
    <script type="text/javascript" src="component/cpu/spc700/spc700_disassembler.js"></script>
    <script type="text/javascript" src="system/snes/apu/sdsp.js"></script>
    <script type="text/javascript" src="component/cpu/spc700/spc700.js"></script>
    <script type="text/javascript" src="component/cpu/spc700/spc700_generated_opcodes.js"></script>
    <script type="text/javascript" src="system/snes/snes_memory.js"></script>
    <script type="text/javascript" src="system/snes/snes_clock.js"></script>
    <script type="text/javascript" src="system/snes/snes_clock_generator.js"></script>
    <script type="text/javascript" src="system/snes/snes_cart.js"></script>
    <script type="text/javascript" src="system/snes/ppu/snes_ppu.js"></script>
    <script type="text/javascript" src="system/snes/ppu/snes_ppu_shader_project.js"></script>
    <script type="text/javascript" src="system/snes/ppu/snes_ppu_worker.js"></script>
    <script type="text/javascript" src="system/snes/ppu/ppufast_funcs.js"></script>
    <!-- NES -->
    <script type="text/javascript" src="component/cpu/m6502/m6502_opcodes.js"></script>
    <script type="text/javascript" src="component/cpu/m6502/m6502.js"></script>
    <script type="text/javascript" src="component/cpu/m6502/nesm6502_generated_opcodes.js"></script>
    <script type="text/javascript" src="system/nes/cpu/rp2a03.js"></script>
    <script type="text/javascript" src="system/nes/cpu/r2a03.js"></script>
    <script type="text/javascript" src="system/nes/nes_bus.js"></script>
    <script type="text/javascript" src="system/nes/nes_cart.js"></script>
    <script type="text/javascript" src="system/nes/nes_clock.js"></script>
    <script type="text/javascript" src="system/nes/ppu/nes_ppu.js"></script>
    <script type="text/javascript" src="system/nes/mappers/nomapper.js"></script>
    <script type="text/javascript" src="system/nes/mappers/mmc3b.js"></script>

    <script type="text/javascript" src="system/nes/nes.js"></script>
    <script type="text/javascript" src="component/cpu/m6502/m6502_tests_pt.js"></script>

    <!-- commodore64 and more -->
    <script type="text/javascript" src="component/cpu/m6502/m65c02_generated_opcodes.js"></script>

    <!-- Generic Z80 computer -->
    <script type="text/javascript" src="system/genericz80/genericz80.js"></script>

    <!-- ZX Spectrum -->
    <script type="text/javascript" src="system/zxspectrum/ula.js"></script>
    <script type="text/javascript" src="system/zxspectrum/zxspectrum.js"></script>
    <script type="text/javascript" src="component/cpu/z80/z80_opcodes.js"></script>
    <script type="text/javascript" src="component/cpu/z80/z80_generated_opcodes.js"></script>
    <script type="text/javascript" src="component/cpu/z80/z80_disassembler.js"></script>
    <script type="text/javascript" src="component/cpu/z80/z80.js"></script>
    <script type="text/javascript" src="component/cpu/z80/z80_tests_pt.js"></script>

    <!-- SMS/GG -->
    <script type="text/javascript" src="system/sms_gg/sms_gg.js"></script>
    <script type="text/javascript" src="system/sms_gg/sms_gg_io.js"></script>
    <script type="text/javascript" src="system/sms_gg/sms_gg_mapper_sega.js"></script>
    <script type="text/javascript" src="system/sms_gg/sms_gg_vdp.js"></script>

    <!-- because bad organization -->
    <script type="text/javascript" src="system/snes/snes.js"></script>

    <meta charset="utf-8">
    <link rel="stylesheet" href="jsmoo.css">
    <title>JSMoo SNES</title>
</head>

<body>

<div class="ui-bar ui-bar-bg">
  <button class="ui-bar-item ui-bar-button ui-bar-blue-grey tablink-main" onclick="open_tab('tablink-main', 'ui-tab-main', event, 'main_tab_main')">Main</button>
  <button class="ui-bar-item ui-bar-button tablink-main" onclick="open_tab('tablink-main', 'ui-tab-main', event, 'main_tab_tools')">Tools</button>
  <button class="ui-bar-item ui-bar-button tablink-main" onclick="open_tab('tablink-main', 'ui-tab-main', event, 'main_tab_settings')">Settings</button>
</div>


<div id="main_tab_tools" class="ui-tab-main" style="display:none;">
    TOOLS! YAY!
</div>



<div id="main_tab_settings" class="ui-tab-main" style="display:none;">
    <div class="ui-bar ui-bar-bg">
      <button class="ui-bar-item ui-bar-button ui-bar-blue-grey tablink-settings-input" onclick="open_tab('tablink-settings-input', 'ui-tab-settings-input', event, 'settings_tab_input_nes')">NES pads</button>
      <button class="ui-bar-item ui-bar-button tablink-settings-input" onclick="open_tab('tablink-settings-input', 'ui-tab-settings-input', event, 'settings_tab_input_snes')">SNES pads</button>
      <button class="ui-bar-item ui-bar-button tablink-settings-input" onclick="open_tab('tablink-settings-input', 'ui-tab-settings-input', event, 'settings_tab_input_sms')">SMS pads</button>
      <button class="ui-bar-item ui-bar-button tablink-settings-input" onclick="open_tab('tablink-settings-input', 'ui-tab-settings-input', event, 'settings_tab_input_spectrum')">ZX Spectrum</button>
    </div>

    <div id="settings_tab_input_nes" class="ui-tab-settings-input">
        Click a button to assign key
        <div style="padding-top: 10px; padding-left: 10px;">
            <div style="width: 220px; float: left;">
                Player 1
                <img src="/img/nes-controller.svg" id="nes1cfg" alt="NES player 1" width="220px"/>
            </div>
            <div style="width: 220px; margin-left:280px;">
                Player 2
                <img src="/img/nes-controller.svg" id="nes2cfg" alt="NES player 2" width="220px"/>
            </div>
        </div>
    </div>
    <div id="settings_tab_input_snes" class="ui-tab-settings-input" style="display:none">
        Click a button to assign key
        <div style="padding-top: 10px; padding-left: 10px;">
            <div style="width: 320px; float: left;">
                Player 1
                <img src="/img/320px-SNES-Controller-Flat.jpg" width="320" id="snes1cfg" alt="SNES player 1"/>
            </div>
            <div style="width: 320px; margin-left:360px;">
                Player 2
                <img src="/img/320px-SNES-Controller-Flat.jpg" width="320" id="snes2cfg" alt="SNES player 2"/>
            </div>
        </div>
    </div>
    <div id="settings_tab_input_sms" class="ui-tab-settings-input" style="display:none">
        Click a button to assign key
        <div style="padding-top: 10px; padding-left: 10px;">
            <div style="width: 394px; float: left;">
                Player 1
                <img src="/img/394px_Sega_Master_System_Controller_Diagram.svg" width="394px" id="sms1cfg" alt="SMS player 1"/>
            </div>
            <div style="width: 394px; margin-left:420px;">
                Player 2
                <img src="/img/394px_Sega_Master_System_Controller_Diagram.svg" width="394px" id="sms2cfg" alt="SMS player 2"/>
            </div>
        </div>
    </div>
    <div id="settings_tab_input_spectrum" class="ui-tab-settings-input" style="display:none">
        ZX Spectrum
    </div>

    <div>
        Button setting
        <br><span id="input-cfg-controller">null</span>
        <br><span id="input-cfg-label">null</span>: <input id="input-cfg-input" value="null">
    </div>


</div>

<div id="main_tab_main" class="ui-tab-main">
  <canvas id="snescanvas" width="1000" height="380"></canvas>


<div class="grid-container">
    <!-- -->
    <div class="grid-child">
        <div class="grid-container">
            <div class="grid-child">
                <span>SYSTEM SELECT<select id="systemselect" name="systemselect">
                    <option value="snes">SNES</option>
                    <option value="nes">NES</option>
                    <option value="spectrum">ZX Spectrum 48</option>
                    <option value="sms">SMS 2</option>
                    <option value="gg">GameGear</option>
                    <option value="genericz80">Generic Z80</option>
                    <!--<option value="genesis">Genesis</option>
                    <option value="c64">Commodore64</option>
                    <option value="sms">SMS</option>-->
                </select>
                </span>
            </div>
            <div class="grid-child">ROM SELECT <select id="romselect" name="romselect">
            </select>
            </div>

            <div class="grid-child">
                <button id="loadstate">Loadstate</button>
                <button id="savestate">Savestate</button>
                &nbsp; &nbsp; &nbsp;
                <button id="loadrom" onclick="load_sel_rom()">Load ROM</button>
            </div>
        </div>

        </span>
        <hr>
    </div>
    <div class="grid-child">
        <button id="reboot">Reboot</button>
    <hr>
    </div>

    <!-- memory listing/disassembly -->
    <div class="grid-child">
        <div id="disassemblycontainer" class="disassembly">
        <pre>
            <code id="disassembly">
            </code>
        </pre>
        </div>
    </div>

    <!-- a few controls -->
    <div class="grid-child">
        <section>
            <br>
            <button id="playbutton" onclick="click_play()">Play</button>
            <button id="pausebutton" onclick="click_pause()">Pause</button>
            <input id="framestilpause"/>
            FPS:<input id="fps"/>
            <br>
            Master clock steps: <input id="masterclocksteps"/><button id="stepclock" type="button" onclick="click_step_clock()">Step</button>
            <br>
            <hr>
            Scanlines to step: <input id="scanlinesteps"/>
            <br>
            Frames to step: <input id="framesteps"/>
            <br>
            Seconds to step: <input id="secondsteps"/>
            <br>
            <button id="stepall" type="button" onclick="click_step_all()">Step</button>
            <br>
            <input type="checkbox" id="bg1on"/><label for="bg1on">BG1 on</label>
            <input type="checkbox" id="bg2on"/><label for="bg2on">BG2 on</label>
            <input type="checkbox" id="bg3on"/><label for="bg3on">BG3 on</label>
            <input type="checkbox" id="bg4on"/><label for="bg4on">BG4 on</label>
            <input type="checkbox" id="objon"/><label for="objon">Objects on</label>
            <br>
            <input type="checkbox" id="render_windows"/><label for="render_windows">Render windows</label>
            <input type="checkbox" id="log_windows"/><label for="log_windows">Log windows</label>
            <br>
            <button id="dumpbg1" type="button" onclick="click_bg_dump(1)">Dump BG1</button>
            <button id="dumpbg2" type="button" onclick="click_bg_dump(2)">Dump BG2</button>
            <button id="dumpbg3" type="button" onclick="click_bg_dump(3)">Dump BG3</button>
            <button id="dumpbg4" type="button" onclick="click_bg_dump(4)">Dump BG4</button>
            <br>
            <button id="dumsprites" type="button" onclick="click_sprite_dump()">Dump Sprites</button>
            <button id="renderscr" type="button" onclick="click_render_scr">Render Screen</button>
            <br>
            <input type="checkbox" id="loghdma"/><label for="loghdma">Log HDMAs</label>
            <br>
            <input type="checkbox" id="tracingCPU"/><label for="tracingCPU">Trace CPU</label>
            <input type="checkbox" id="tracingAPU"/><label for="tracingAPU">Trace APU</label>
            <input type="checkbox" id="watchpt"/><label for="watchpt">Watching</label>
            <br>
            <input type="checkbox" id="brknmirq"><label for="brknmirq">Break on NMI/IRQ</label>
            <br>
            PPU output: <span id="ppu_y_output"></span>
            <br>
            Frame #<span id="frame_count_output"></span>
            <hr>
            <hr>
            <br>
        </section>
    </div>

    <!-- message console -->
    <div class="grid-child">
        <div id="textconsolecontainer" class="disassembly" style="height: 100px; overflow: auto;">
            <pre><code id="textconsole"></code></pre>
        </div>

    </div>
    <div class="grid-child">
        <section>
            <input id="fileUpload" name="fileUpload" type="file"/>
            <button id="upload" type="button" onclick="uploadFile('test');">Go</button>
            <button id="download" type="button" onclick="downloadFile('test');">Download</button>
        </section>
    </div>

    <div class="grid-child">
        <div id="memdumpcontainer" class="disassembly" style="height: 100px; overflow: auto;">
            <pre><code id="memdumpconsole"></code></pre>
        </div>

    </div>

    <div class="grid-child">
        <section>
            <button id="dumpram" type="button" onclick="click_dump_ram()">Dump RAM</button>
            <button id="dumpvram" type="button" onclick="click_dump_vram()">Dump VRAM</button>
            <input id="memaddr" type="text">
        </section>
    </div>

</div>
</div>
</body>
</html>